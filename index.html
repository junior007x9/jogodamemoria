<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mem√≥ria Tech (Modo Fases)</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background-color: #1e1e2f;
            color: #f0f0f0;
            margin: 0;
            overflow: hidden;
        }

        /* --- CSS da Tela de In√≠cio foi REMOVIDO --- */

        h1 {
            color: #82aaff;
            margin-bottom: 5px;
        }

        /* Timer de Preview */
        #timer-display {
            font-size: 1.5em;
            color: #ff6666;
            height: 30px;
            margin-bottom: 10px;
            font-weight: bold;
        }

        .top-panels {
            display: flex;
            justify-content: center;
            align-items: flex-start;
            gap: 20px;
            margin-bottom: 15px;
        }
        
        /* Painel do Jogador (Vidas e N√≠vel) */
        .player-info {
            background-color: #4a4a6a;
            border-radius: 8px;
            padding: 5px 15px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
            text-align: center;
            min-width: 150px;
        }
        .player-info p {
            font-size: 18px;
            font-weight: bold;
            margin: 5px 10px;
        }
        .player-info span {
            color: #82aaff;
            font-size: 20px;
            min-width: 20px;
            display: inline-block;
            text-align: left;
        }

        .score-panel {
            background-color: #4a4a6a;
            border-radius: 8px;
            padding: 5px 10px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
            text-align: center;
        }
        .score-panel p {
            font-size: 18px;
            font-weight: bold;
            margin: 5px 10px;
        }
        .score-panel span {
            color: #82aaff;
            font-size: 20px;
            min-width: 20px;
            display: inline-block;
            text-align: left;
        }

        .match-feedback-panel {
            background-color: #4a4a6a;
            border-radius: 8px;
            padding: 10px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }
        .match-feedback-panel h3 {
            margin: 0 0 5px 0;
            text-align: center;
            font-size: 14px;
            color: #f0f0f0;
        }
        .last-match-container {
            display: flex;
            gap: 10px;
        }
        .last-match-card {
            width: 90px;
            height: 105px;
            background-color: #2a2a4a;
            border-radius: 6px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            font-size: 12px;
            font-weight: bold;
            color: #e0e0e0;
            padding: 4px;
            box-sizing: border-box;
        }
        .last-match-card svg {
            width: 35px;
            height: 35px;
            margin-bottom: 5px;
            fill: #e0e0e0;
        }
        
        .memory-game {
            display: grid;
            gap: 10px;
            perspective: 1000px;
            transition: width 0.5s ease;
        }
        
        .memory-card {
            width: 120px;
            height: 140px;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 0.5s, order 0.5s ease;
            cursor: pointer;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }
        
        /* √çcones de Feedback (‚úì e ‚úó) */
        .card-feedback {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: none;
            justify-content: center;
            align-items: center;
            font-size: 80px;
            font-weight: bold;
            z-index: 10;
            border-radius: 8px;
            animation: fadeInOut 1.2s ease;
        }
        .card-feedback.correct {
            display: flex;
            color: #66ff66;
            background: rgba(42, 42, 74, 0.7);
        }
        .card-feedback.incorrect {
            display: flex;
            color: #ff6666;
            background: rgba(42, 42, 74, 0.7);
        }
        @keyframes fadeInOut {
            0%, 100% { opacity: 0; }
            30%, 70% { opacity: 1; }
        }

        .memory-card.flip {
            transform: rotateY(180deg);
        }
        .memory-card.matched {
            opacity: 0.3;
            cursor: default;
        }

        .front-face, .back-face {
            width: 100%; height: 100%; position: absolute;
            backface-visibility: hidden; border-radius: 8px;
            display: flex; flex-direction: column; justify-content: center;
            align-items: center; text-align: center; font-size: 14px;
            font-weight: bold; box-sizing: border-box; padding: 5px;
        }
        .front-face {
            background-color: #4a4a6a; color: #e0e0e0;
            transform: rotateY(180deg);
        }
        .back-face {
            background-color: #82aaff; color: #1e1e2f;
            font-size: 48px;
        }
        .front-face svg {
            width: 50px; height: 50px;
            margin-bottom: 5px; fill: #e0e0e0;
        }
        
        .button-container {
            margin-top: 20px;
            display: flex;
            gap: 15px;
        }
        #reset-button, #rules-button {
            padding: 12px 25px; font-size: 17px;
            color: #1e1e2f; background-color: #82aaff;
            border: none; border-radius: 5px; cursor: pointer;
            transition: all 0.3s ease; box-shadow: 0 4px 8px rgba(0,0,0,0.3);
        }
        #reset-button:hover, #rules-button:hover {
            background-color: #a0c0ff; transform: translateY(-2px);
        }
        #rules-button {
            background-color: #6c6c8c;
            color: #f0f0f0;
        }
        
        /* Overlay de Regras */
        #rules-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(30, 30, 47, 0.95);
            backdrop-filter: blur(5px);
            display: none;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 100;
        }
        .rules-content {
            background: #4a4a6a;
            padding: 30px;
            border-radius: 10px;
            width: 80%;
            max-width: 600px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }
        .rules-content h2 {
            color: #82aaff;
            margin-top: 0;
        }
        .rules-content ul {
            list-style: '‚ù§Ô∏è ';
            padding-left: 30px;
        }
        .rules-content li {
            margin-bottom: 10px;
            font-size: 1.1em;
        }
        #close-rules-button {
            margin-top: 20px;
            padding: 10px 30px;
            font-size: 1.1em;
            background-color: #82aaff;
            color: #1e1e2f;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        /* A classe 'hidden' n√£o √© mais necess√°ria para os pain√©is, 
           mas √© usada pelo overlay de regras */
        .hidden { display: none; }

        /* Anima√ß√µes de Vida */
        .vidas-gain {
            animation: pulseGreen 0.6s 2;
        }
        .vidas-loss {
            animation: pulseRed 0.6s 2;
        }
        @keyframes pulseGreen {
            0% { color: #82aaff; transform: scale(1); }
            50% { color: #66ff66; transform: scale(1.2); }
            100% { color: #82aaff; transform: scale(1); }
        }
        @keyframes pulseRed {
            0% { color: #82aaff; transform: scale(1); }
            50% { color: #ff6666; transform: scale(1.2); }
            100% { color: #82aaff; transform: scale(1); }
        }

    </style>
</head>
<body>
    <h1>üß† Mem√≥ria Tech</h1>
    <h2 id="timer-display"></h2> <div class="top-panels" id="top-panels">
        <div class="player-info">
            <p>N√≠vel: <span id="level-display">1</span></p>
            <p>Vidas: <span id="vidas-count">5</span> ‚ù§Ô∏è</p>
        </div>
        
        <div class="score-panel">
            <p>Acertos: <span id="acertos-count">0</span></p>
            <p>Erros: <span id="erros-count">0</span></p>
        </div>
        
        <div class="match-feedback-panel">
            <h3>√öLTIMO ACERTO:</h3>
            <div class="last-match-container">
                <div class="last-match-card" id="last-match-1">...</div>
                <div class="last-match-card" id="last-match-2">...</div>
            </div>
        </div>
    </div>

    <div class="memory-game" id="game-board">
        </div>
    
    <div class="button-container" id="button-container">
        <button id="reset-button">Reiniciar Jogo</button>
        <button id="rules-button">Regras</button>
    </div>

    <div id="rules-overlay" class="hidden">
        <div class="rules-content">
            <h2>Regras do Jogo</h2>
            <ul>
                <li>O jogo come√ßa com um "preview" de 10 segundos. Veja todas as cartas!</li>
                <li>Ap√≥s o preview, as cartas s√£o viradas e RE-EMBARALHADAS.</li>
                <li>Clique em duas cartas para tentar formar um par.</li>
                <li>Um "par" √© formado por dois conceitos que se completam (ex: CPU e C√©rebro).</li>
                <li>Voc√™ come√ßa com <strong>5 vidas</strong>.</li>
                <li>Voc√™ perde <strong>1 vida</strong> a cada <strong>2 erros consecutivos</strong>.</li>
                <li>Voc√™ ganha <strong>1 vida</strong> a cada <strong>3 acertos consecutivos</strong>.</li>
                <li>Encontre todos os pares para avan√ßar para o pr√≥ximo n√≠vel.</li>
                <li>Se suas vidas chegarem a 0, √© <strong>Game Over!</strong></li>
            </ul>
            <button id="close-rules-button">Fechar</button>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {

            // === DADOS DOS N√çVEIS ===
            const level1Cards = [
                { text: 'CPU', pair: 'p1', icon: '<svg viewBox="0 0 24 24"><path d="M6 3h12a3 3 0 0 1 3 3v12a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3zm0 2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1H6zm4 2h4v2h-4V7zm0 4h4v2h-4v-2zm-4 0h2v2H6v-2zm8 0h2v2h-2v-2z"/></svg>' },
                { text: 'C√©rebro do Computador', pair: 'p1', icon: '<svg viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1-13h2v6h-2zm0 8h2v2h-2zM9 10h2v2H9zM13 10h2v2h-2zM9 14h2v2H9zM13 14h2v2h-2z"/></svg>' },
                { text: 'RAM', pair: 'p2', icon: '<svg viewBox="0 0 24 24"><path d="M19 13H5c-1.1 0-2 .9-2 2v4c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-4c0-1.1-.9-2-2-2zm0 4c0 .55-.45 1-1 1H6c-.55 0-1-.45-1-1v-2c0-.55.45-1 1-1h12c.55 0 1 .45 1 1v2zm-1-9H6c-.55 0-1 .45-1 1v2c0 .55.45 1 1 1h12c.55 0 1-.45 1-1V9c0-.55-.45-1-1-1zm0 4H6v-2h12v2z"/></svg>' },
                { text: 'Mem√≥ria Vol√°til', pair: 'p2', icon: '<svg viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"/></svg>' },
                { text: 'SSD / HD', pair: 'p3', icon: '<svg viewBox="0 0 24 24"><path d="M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14H4V8h16v10zM18 6h-4V4h4v2zM6 4h4v2H6V4z"/></svg>' },
                { text: 'Armazenamento Permanente', pair: 'p3', icon: '<svg viewBox="0 0 24 24"><path d="M4 6h16v2H4zm0 5h16v2H4zm0 5h16v2H4zM2 4h20c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H2c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2zm0 14h20V6H2v12z"/></svg>' },
                { text: 'Hardware', pair: 'p4', icon: '<svg viewBox="0 0 24 24"><path d="M20 18c1.1 0 1.99-.9 1.99-2L22 6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2H0v2h24v-2h-4zM4 6h16v10H4V6z"/></svg>' },
                { text: 'Parte F√≠sica (Monitor)', pair: 'p4', icon: '<svg viewBox="0 0 24 24"><path d="M20 3H4c-1.1 0-2 .9-2 2v11c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 13H4V5h16v11zM1 18h22v2H1z"/></svg>' },
                { text: 'Software', pair: 'p5', icon: '<svg viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1-13h2v2h-2zm0 4h2v2h-2zm0 4h2v2h-2z"/></svg>' },
                { text: 'Parte L√≥gica (Apps)', pair: 'p5', icon: '<svg viewBox="0 0 24 24"><path d="M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-1 14H5V6h14v12zm-8-2h2v-2h-2zm-2 0h2v-2h-2zM9 10h2v-2H9zM7 10h2v-2H7z"/></svg>' },
                { text: 'Firewall', pair: 'p6', icon: '<svg viewBox="0 0 24 24"><path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm0 10.99h-4V8h4v3.99zM12 6.01h-4V3.84l4-1.76v3.93zm0 9.98c-2.76 0-5.32-1.09-7.2-2.9L5 13.06c1.65 1.55 3.85 2.45 6.2 2.45v-4h-4.99l.02-3.87L12 2.08l7 3.06v3.86h-5V16c-.01 0-.01 0-.01-.01z"/></svg>' },
                { text: 'Barreira de Seguran√ßa', pair: 'p6', icon: '<svg viewBox="0 0 24 24"><path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm0 19.72c-4.39-1.37-7-7.27-7-12.72V6.3l7-3.08 7 3.08v1.72c0 5.45-2.61 11.35-7 12.72zm-1-10.72h2v4h-2v-4zm0 6h2v2h-2v-2z"/></svg>' },
                { text: 'Phishing', pair: 'p7', icon: '<svg viewBox="0 0 24 24"><path d="M22 6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6zm-2 0l-8 5-8-5h16zm0 12H4V8l8 5 8-5v10z"/></svg>' },
                { text: 'Golpe por E-mail', pair: 'p7', icon: '<svg viewBox="0 0 24 24"><path d="M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 2L12 11 4 6h16zm0 12H4V8l8 5 8-5v10zM12 13l-8 5V8l8-5 8 5V8l-8 5z"/></svg>' },
                { text: 'HTML', pair: 'p8', icon: '<svg viewBox="0 0 24 24"><path d="M3 15h18v-2H3v2zm0 4h18v-2H3v2zm0-8h18V9H3v2zm0-4h18V5H3v2z"/></svg>' },
                { text: 'Estrutura de Sites', pair: 'p8', icon: '<svg viewBox="0 0 24 24"><path d="M21 18c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1H3c-.55 0-1 .45-1 1v11c0 .55.45 1 1 1h18zm-2-2H5V7h14v9zM12 9h4v2h-4zM12 13h4v2h-4zM8 9h2v2H8zM8 13h2v2H8z"/></svg>' },
                { text: 'Python', pair: 'p9', icon: '<svg viewBox="0 0 24 24"><path d="M12 2c-5.52 0-10 4.48-10 10s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 16h-2v-6h2v6zm0-8h-2V7h2v3zm4 8h-2v-2h2v2zm0-4h-2v-6h2v6z"/></svg>' },
                { text: 'Linguagem de Programa√ß√£o', pair: 'p9', icon: '<svg viewBox="0 0 24 24"><path d="M14 10H2v2h12v-2zm0 4H2v2h12v-2zm14-4V6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v4h2v-2h12v2h2v-2h2v4z"/></svg>' },
                { text: 'Wi-Fi', pair: 'p10', icon: '<svg viewBox="0 0 24 24"><path d="M12 4C7.31 4 3.07 5.9 0 8.98L12 21 24 8.98C20.93 5.9 16.69 4 12 4zm0 4c-3.21 0-6.17 1.4-8.16 3.73L12 17.5l8.16-5.77C18.17 9.4 15.21 8 12 8z"/></svg>' },
                { text: 'Rede Sem Fio', pair: 'p10', icon: '<svg viewBox="0 0 24 24"><path d="M22 10V6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v4c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2zm-2 0H4V6h16v4zm-1 4H5c-.55 0-1 .45-1 1v2c0 .55.45 1 1 1h14c.55 0 1-.45 1-1v-2c0-.55-.45-1-1-1zm0 2H5v-2h14v2z"/></svg>' },
                { text: 'Backup', pair: 'p11', icon: '<svg viewBox="0 0 24 24"><path d="M19 12v-2h-2V8h2V6h-2V4h2V2h-2V0h2v2h-2V4h2V6h-2V8h2v2h-2v2h2zm-7 0H5v-2h7v2zm0 4H5v-2h7v2zm0 4H5v-2h7v2zM12 2h-7c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2h-7zm-7 0h7v20H5V2z"/></svg>' },
                { text: 'C√≥pia de Seguran√ßa', pair: 'p11', icon: '<svg viewBox="0 0 24 24"><path d="M16 1h-4L7.1 5.9C6.41 6.6 6 7.6 6 8.7V22h12V8.7c0-1.1-.41-2.1-1.1-2.8L16 1zm-2 2v2h-4V3h4zm-4 4h4v2H6V7zm0 4h4v2H6v-2zm0 4h4v2H6v-2z"/></svg>' },
                { text: 'Malware', pair: 'p12', icon: '<svg viewBox="0 0 24 24"><path d="M13 13.9c0-.44-.36-.8-.8-.8H12c-.44 0-.8.36-.8.8v.1c0 .44.36.8.8.8h.2c.44 0 .8-.36.8-.8v-.1zm-.8-4.2c.44 0 .8-.36.8-.8v-.2c0-.44-.36-.8-.8-.8h-.1c-.44 0-.8.36-.8.8v.2c0 .44.36.8.8.8h.1zm.8 0c.44 0 .8-.36.8-.8v-.2c0-.44-.36-.8-.8-.8h-.1c-.44 0-.8.36-.8.8v.2c0 .44.36.8.8.8h.1zm-.8 4.2c.44 0 .8-.36.8-.8v-.1c0-.44-.36-.8-.8-.8h-.2c-.44 0-.8.36-.8.8v.1c0 .44.36.8.8.8h.2zm1-5.1c0-.44-.36-.8-.8-.8H12c-.44 0-.8.36-.8.8v.1c0 .44.36.8.8.8h.2c.44 0 .8-.36.8-.8v-.1zm-1.8 1.9c-.44 0-.8.36-.8.8v.2c0 .44.36.8.8.8h.1c.44 0 .8-.36.8-.8v-.2c0-.44-.36-.8-.8-.8h-.1zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zM12 4c.55 0 1 .45 1 1v2c0 .55-.45 1-1 1s-1-.45-1-1V5c0-.55.45-1 1-1zm-1 15c0 .55.45 1 1 1s1-.45 1-1v-2c0-.55-.45-1-1-1s-1 .45-1 1v2zM4.93 6.36c.39-.39 1.02-.39 1.41 0s.39 1.02 0 1.41L4.93 6.36zM18.34 6.36c-.39-.39-1.02-.39-1.41 0s-.39 1.02 0 1.41l1.41-1.41zM6.36 18.34c.39.39 1.02.39 1.41 0s.39-1.02 0-1.41L6.36 18.34zm11.41-1.41c.39-.39 1.02-.39 1.41 0s.39 1.02 0 1.41l-1.41-1.41z"/></svg>' },
                { text: 'V√≠rus / Software Malicioso', pair: 'p12', icon: '<svg viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1-13h2v6h-2zm0 8h2v2h-2zM9 10h2v2H9zM13 10h2v2h-2zM9 14h2v2H9zM13 14h2v2h-2z"/></svg>' }
            ];
            // N√≠vel 2: 18 cartas (9 pares)
            const level2Cards = [
                { text: 'Mouse', pair: 'p1', icon: '<svg viewBox="0 0 24 24"><path d="M13 3C9.13 3 6 6.13 6 10v4c0 3.87 3.13 7 7 7s7-3.13 7-7v-4C20 6.13 16.87 3 13 3zm5 11c0 2.76-2.24 5-5 5s-5-2.24-5-5v-4c0-2.76 2.24-5 5-5s5 2.24 5 5v4zm-6-8h2v3h-2V6z"/></svg>' },
                { text: 'Cursor na Tela', pair: 'p1', icon: '<svg viewBox="0 0 24 24"><path d="M12 2L4 20h9l-1-2H7.5l2-4H14l2 4h-1.5l-1 2h9L12 2zm0 4.1L15.31 16H8.69L12 6.1z"/></svg>' },
                { text: 'Teclado', pair: 'p2', icon: '<svg viewBox="0 0 24 24"><path d="M20 5H4c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm-1 12H5V9h14v8zM7 10h2v2H7zm4 0h2v2h-2zm4 0h2v2h-2zM7 13h2v2H7zm4 0h2v2h-2zm4 0h2v2h-2z"/></svg>' },
                { text: 'Digitar Texto', pair: 'p2', icon: '<svg viewBox="0 0 24 24"><path d="M4 17h16v2H4v-2zM15 4h-2V2h-2v2H9V2H7v2H4c-1.1 0-2 .9-2 2v10h20V6c0-1.1-.9-2-2-2h-3V2h-2v2zM4 6h16v8H4V6z"/></svg>' },
                { text: 'Monitor', pair: 'p3', icon: '<svg viewBox="0 0 24 24"><path d="M20 18c1.1 0 1.99-.9 1.99-2L22 6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2H0v2h24v-2h-4zM4 6h16v10H4V6z"/></svg>' },
                { text: 'Exibir Imagem', pair: 'p3', icon: '<svg viewBox="0 0 24 24"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zM11 15l-3-4-2.5 3.01L5 12l-1.5 1.83L5 15.66l2.5-3.33L10 15h4.5l-2.5-3.33L14.5 15H11z"/></svg>' },
                { text: 'Impressora', pair: 'p4', icon: '<svg viewBox="0 0 24 24"><path d="M19 8H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3zM7 19v-4h10v4H7zm12-7c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm-4-4h-4v-2h4v2z"/></svg>' },
                { text: 'Papel F√≠sico', pair: 'p4', icon: '<svg viewBox="0 0 24 24"><path d="M14 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V8l-6-6zm4 18H6V4h7v5h5v11zM8 15h8v2H8v-2zm0-3h8v2H8v-2z"/></svg>' },
                { text: 'Caixa de Som', pair: 'p5', icon: '<svg viewBox="0 0 24 24"><path d="M7 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h2c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h2v14zM12 9c0-1.1-.9-2-2-2H9c-1.1 0-2 .9-2 2v6c0 1.1.9 2 2 2h1c1.1 0 2-.9 2-2V9zm-2 6H9V9h1v6z"/></svg>' },
                { text: 'Emitir √Åudio', pair: 'p5', icon: '<svg viewBox="0 0 24 24"><path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/></svg>' },
                { text: 'Microfone', pair: 'p6', icon: '<svg viewBox="0 0 24 24"><path d="M12 14c1.66 0 3-1.34 3-3V5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3zm-1-9c0-.55.45-1 1-1s1 .45 1 1v6c0 .55-.45 1-1 1s-1-.45-1-1V5zM17 11c0 2.76-2.24 5-5 5s-5-2.24-5-5H5c0 3.53 2.61 6.43 6 6.92V21h2v-3.08c3.39-.49 6-3.39 6-6.92h-2z"/></svg>' },
                { text: 'Captar √Åudio', pair: 'p6', icon: '<svg viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1-13h2v6h-2zm0 8h2v2h-2z"/></svg>' },
                { text: 'USB', pair: 'p7', icon: '<svg viewBox="0 0 24 24"><path d="M15 7v4h1v2h-3V5h2l-3-4-3 4h2v8H8v-2.07c.7-.37 1.2-1.08 1.2-1.93 0-1.21-.99-2.2-2.2-2.2S4.8 7.79 4.8 9c0 .85.5 1.56 1.2 1.93V13c0 1.11.89 2 2 2h3v3.05c-.71.37-1.2 1.1-1.2 1.95 0 1.21.99 2.2 2.2 2.2s2.2-.99 2.2-2.2c0-.85-.5-1.58-1.2-1.95V15h3c1.11 0 2-.89 2-2v-2h1V7h-4z"/></svg>' },
                { text: 'Conex√£o/Porta', pair: 'p7', icon: '<svg viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 15v-2h2v2h-2zm0-4v-2h2v2h-2zm0-4V7h2v2h-2z"/></svg>' },
                { text: 'Bug', pair: 'p8', icon: '<svg viewBox="0 0 24 24"><path d="M20 8h-2.81c-.45-1.77-1.97-3-3.19-3s-2.74 1.23-3.19 3H8c-1.1 0-2 .9-2 2v2H4c-1.1 0-2 .9-2 2v2c0 1.1.9 2 2 2h2v2c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2v-2h2c1.1 0 2-.9 2-2v-2c0-1.1-.9-2-2-2h-2v-2c0-1.1-.9-2-2-2zm-6 10H8v-2h4v2zm0-4H8v-2h4v2zm4-4H8v-2h8v2z"/></svg>' },
                { text: 'Erro no C√≥digo', pair: 'p8', icon: '<svg viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>' },
                { text: 'E-mail', pair: 'p9', icon: '<svg viewBox="0 0 24 24"><path d="M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 2L12 11 4 6h16zm0 12H4V8l8 5 8-5v10z"/></svg>' },
                { text: 'Correio Eletr√¥nico', pair: 'p9', icon: '<svg viewBox="0 0 24 24"><path d="M22 6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6zm-2 0l-8 5-8-5h16zm0 12H4V8l8 5 8-5v10z"/></svg>' }
            ];
            // N√≠vel 3: 12 cartas (6 pares)
            const level3Cards = [
                { text: 'URL', pair: 'p1', icon: '<svg viewBox="0 0 24 24"><path d="M16 11c1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3 1.34 3 3 3zm-8 0c1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3 1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V18h14v-1.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V18h6v-1.5c0-2.33-4.67-3.5-7-3.5z"/></svg>' },
                { text: 'Endere√ßo Web', pair: 'p1', icon: '<svg viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1h-2v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.92 1.11 5 4.08 5 7.41 0 2.48-1.14 4.7-2.9 6.39z"/></svg>' },
                { text: 'Link', pair: 'p2', icon: '<svg viewBox="0 0 24 24"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/></svg>' },
                { text: 'Hiperlink', pair: 'p2', icon: '<svg viewBox="0 0 24 24"><path d="M17 7h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5zM7 7H3c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1S5.29 7 7 7zm4 4h6v2h-6z"/></svg>' },
                { text: 'Pasta', pair: 'p3', icon: '<svg viewBox="0 0 24 24"><path d="M10 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z"/></svg>' },
                { text: 'Diret√≥rio', pair: 'p3', icon: '<svg viewBox="0 0 24 24"><path d="M20 6h-8l-2-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm0 12H4V6h5.17l2 2H20v10zM12 10H8v2h4v-2zm4 0h-2v2h2v-2zM8 14h8v2H8v-2z"/></svg>' },
                { text: 'Arquivo', pair: 'p4', icon: '<svg viewBox="0 0 24 24"><path d="M14 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V8l-6-6zm4 18H6V4h7v5h5v11zM8 15h8v2H8v-2zm0-3h8v2H8v-2z"/></svg>' },
                { text: 'Documento', pair: 'p4', icon: '<svg viewBox="0 0 24 24"><path d="M6 2c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V8l-6-6H6zm0 2h7v5h5v11H6V4zm2 10h8v2H8v-2zm0 3h8v2H8v-2z"/></svg>' },
                { text: 'Download', pair: 'p5', icon: '<svg viewBox="0 0 24 24"><path d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"/></svg>' },
                { text: 'Baixar da Web', pair: 'p5', icon: '<svg viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1-13h2v4.59l3.71 3.7-1.42 1.42L11 13.41V7z"/></svg>' },
                { text: 'Upload', pair: 'p6', icon: '<svg viewBox="0 0 24 24"><path d="M5 17v2h14v-2H5zM9 3v6h6V3H9zM19 9h-4v6H9V9H5l7-7 7 7z"/></svg>' },
                { text: 'Enviar para Web', pair: 'p6', icon: '<svg viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm3.71-12.7L11 13.41V7h2v6.59l3.71-3.71 1.42 1.42z"/></svg>' }
            ];
            
            // Defini√ß√µes dos N√≠veis
            const levelData = [
                { level: 1, cards: level1Cards, cols: 6, rows: 4, width: '800px', height: '600px' },
                { level: 2, cards: level2Cards, cols: 6, rows: 3, width: '800px', height: '450px' },
                { level: 3, cards: level3Cards, cols: 4, rows: 3, width: '540px', height: '450px' }
            ];
            const maxLevel = levelData.length;

            // DOM Elements
            const gameBoard = document.getElementById('game-board');
            const resetButton = document.getElementById('reset-button');
            const acertosDisplay = document.getElementById('acertos-count');
            const errosDisplay = document.getElementById('erros-count');
            const lastMatch1 = document.getElementById('last-match-1');
            const lastMatch2 = document.getElementById('last-match-2');
            const vidasDisplay = document.getElementById('vidas-count');
            const timerDisplay = document.getElementById('timer-display');
            const topPanels = document.getElementById('top-panels');
            const rulesButton = document.getElementById('rules-button');
            const rulesOverlay = document.getElementById('rules-overlay');
            const closeRulesButton = document.getElementById('close-rules-button');
            const levelDisplay = document.getElementById('level-display');
            const buttonContainer = document.getElementById('button-container');

            // Elementos da Tela de In√≠cio
            const startOverlay = document.getElementById('start-overlay');
            const startGameButton = document.getElementById('start-game-button');

            // Vari√°veis de Estado do Jogo
            let currentLevel;
            let currentLevelInfo;
            let hasFlippedCard = false;
            let lockBoard = true;
            let firstCard, secondCard;
            let vidas, acertos, erros;
            let acertosConsecutivos, errosConsecutivos, matchedPairsCount;
            let timerIntervalId; 

            // Fun√ß√£o para iniciar o jogo (do zero)
            function iniciarJogo() {
                currentLevel = 1;
                carregarNivel(currentLevel);
            }
            
            // Fun√ß√£o para carregar um n√≠vel espec√≠fico
            function carregarNivel(levelNumber) {
                if (timerIntervalId) clearInterval(timerIntervalId); 
                lockBoard = true; 
                currentLevel = levelNumber;
                currentLevelInfo = levelData[levelNumber - 1];
                
                levelDisplay.textContent = currentLevel;
                
                createBoard(currentLevelInfo);
                previewCards(currentLevelInfo);
            }

            // Fun√ß√£o para criar o tabuleiro
            function createBoard(nivelInfo) {
                acertos = 0; erros = 0; vidas = 5;
                acertosConsecutivos = 0; errosConsecutivos = 0; matchedPairsCount = 0;

                acertosDisplay.textContent = acertos;
                errosDisplay.textContent = erros;
                vidasDisplay.textContent = vidas;
                vidasDisplay.parentElement.classList.remove('vidas-gain', 'vidas-loss');
                
                lastMatch1.innerHTML = '...';
                lastMatch2.innerHTML = '...';
                timerDisplay.textContent = '';
                gameBoard.innerHTML = '';
                
                gameBoard.style.gridTemplateColumns = `repeat(${nivelInfo.cols}, 1fr)`;
                gameBoard.style.width = nivelInfo.width;
                gameBoard.style.height = nivelInfo.height;
                
                let cards = [...nivelInfo.cards]; 
                cards.sort(() => 0.5 - Math.random());

                cards.forEach(item => {
                    const card = document.createElement('div');
                    card.classList.add('memory-card');
                    card.dataset.pair = item.pair;
                    card.style.order = '0'; 

                    card.innerHTML = `
                        <div class="card-feedback"></div> 
                        <div class="front-face">${item.icon || ''}<span>${item.text}</span></div>
                        <div class="back-face">?</div>
                    `;
                    
                    gameBoard.appendChild(card);
                });
            }

            // Fun√ß√£o para embaralhar visualmente o tabuleiro
            function shuffleBoard() {
                const allCards = document.querySelectorAll('.memory-card');
                allCards.forEach(card => {
                    let randomPos = Math.floor(Math.random() * allCards.length);
                    card.style.order = randomPos;
                });
            }

            // Fun√ß√£o de Preview de 10 segundos
            function previewCards() {
                let countdown = 10;
                timerDisplay.textContent = `Memorize! Tempo restante: ${countdown}s`;
                
                const allCards = document.querySelectorAll('.memory-card');
                allCards.forEach(card => card.classList.add('flip')); 

                timerIntervalId = setInterval(() => {
                    countdown--;
                    timerDisplay.textContent = `Memorize! Tempo restante: ${countdown}s`;
                    
                    if (countdown <= 0) {
                        clearInterval(timerIntervalId);
                        timerDisplay.textContent = 'Embaralhando...';
                        
                        allCards.forEach(card => card.classList.remove('flip'));
                        
                        setTimeout(() => {
                            shuffleBoard(); 
                            timerDisplay.textContent = 'Valendo!';
                            
                            startPlay(); 
                            
                            setTimeout(() => {
                                if (vidas > 0) timerDisplay.textContent = '';
                            }, 1500);

                        }, 500);
                    }
                }, 1000);
            }

            // Fun√ß√£o para liberar o jogo e adicionar listeners
            function startPlay() {
                lockBoard = false; 
                document.querySelectorAll('.memory-card').forEach(card => {
                    card.addEventListener('click', flipCard);
                });
            }

            // Fun√ß√£o para virar a carta
            function flipCard() {
                if (lockBoard || vidas === 0) return;
                if (this === firstCard) return;
                if (this.classList.contains('matched')) return; 

                this.classList.add('flip');

                if (!hasFlippedCard) {
                    hasFlippedCard = true;
                    firstCard = this;
                    return;
                }

                secondCard = this;
                checkForMatch();
            }

            // Checa se formou par
            function checkForMatch() {
                let isMatch = firstCard.dataset.pair === secondCard.dataset.pair;
                isMatch ? disableCards() : unflipCards();
            }

            // Se acertou o par
            function disableCards() {
                lockBoard = true;
                acertos++;
                acertosDisplay.textContent = acertos;
                matchedPairsCount++;
                acertosConsecutivos++;
                
                if (acertosConsecutivos === 3) {
                    vidas++;
                    vidasDisplay.textContent = vidas;
                    acertosConsecutivos = 0;
                    vidasDisplay.parentElement.classList.add('vidas-gain');
                    setTimeout(() => vidasDisplay.parentElement.classList.remove('vidas-gain'), 1200);
                }

                lastMatch1.innerHTML = firstCard.querySelector('.front-face').innerHTML;
                lastMatch2.innerHTML = secondCard.querySelector('.front-face').innerHTML;

                const feedback1 = firstCard.querySelector('.card-feedback');
                const feedback2 = secondCard.querySelector('.card-feedback');
                feedback1.textContent = '‚úì';
                feedback2.textContent = '‚úì';
                feedback1.classList.add('correct');
                feedback2.classList.add('correct');

                firstCard.removeEventListener('click', flipCard);
                secondCard.removeEventListener('click', flipCard);

                setTimeout(() => {
                    feedback1.classList.remove('correct'); 
                    feedback2.classList.remove('correct');
                    
                    firstCard.classList.add('matched');
                    secondCard.classList.add('matched');
                    
                    resetBoard(); 

                    if (matchedPairsCount === currentLevelInfo.cards.length / 2) {
                        lockBoard = true; 
                        if (currentLevel < maxLevel) {
                            timerDisplay.textContent = `N√≠vel ${currentLevel} Completo!`;
                            setTimeout(() => {
                                carregarNivel(currentLevel + 1);
                            }, 2500);
                        } else {
                            timerDisplay.textContent = 'VOC√ä VENCEU!';
                            alert(`Parab√©ns! Voc√™ completou todos os n√≠veis com ${vidas} vidas restantes!`);
                        }
                    }
                }, 1000);
            }

            // Se errou o par
            function unflipCards() {
                lockBoard = true;
                erros++;
                errosDisplay.textContent = erros;
                acertosConsecutivos = 0;
                errosConsecutivos++;

                const feedback1 = firstCard.querySelector('.card-feedback');
                const feedback2 = secondCard.querySelector('.card-feedback');
                feedback1.textContent = '‚úó';
                feedback2.textContent = '‚úó';
                feedback1.classList.add('incorrect');
                feedback2.classList.add('incorrect');

                if (errosConsecutivos === 2) {
                    vidas--;
                    vidasDisplay.textContent = vidas;
                    errosConsecutivos = 0;
                    
                    vidasDisplay.parentElement.classList.add('vidas-loss');
                    setTimeout(() => vidasDisplay.parentElement.classList.remove('vidas-loss'), 1200);

                    if (vidas === 0) {
                        gameOver();
                        return;
                    }
                }

                setTimeout(() => {
                    feedback1.classList.remove('incorrect'); 
                    feedback2.classList.remove('incorrect');

                    firstCard.classList.remove('flip');
                    secondCard.classList.remove('flip');
                    
                    resetBoard();
                }, 1200); 
            }

            // Fun√ß√£o de Game Over
            function gameOver() {
                lockBoard = true;
                timerDisplay.textContent = 'GAME OVER!';
                if(timerIntervalId) clearInterval(timerIntervalId); 
                
                document.querySelectorAll('.memory-card').forEach(card => {
                    if (!card.classList.contains('matched')) {
                        card.classList.add('flip');
                    }
                });
                alert(`GAME OVER! Voc√™ fez ${acertos} acertos. Clique em Reiniciar Jogo para tentar de novo.`);
            }

            // Reseta as vari√°veis de turno
            function resetBoard() {
                [hasFlippedCard, lockBoard] = [false, false];
                [firstCard, secondCard] = [null, null];
                if (vidas === 0) gameOver();
            }
            
            // --- INICIALIZA√á√ÉO DO JOGO ---
            
            // Event listener para o bot√£o de Reiniciar
            resetButton.addEventListener('click', iniciarJogo);

            // Event listeners para o overlay de Regras
            rulesButton.addEventListener('click', () => {
                rulesOverlay.style.display = 'flex';
            });
            closeRulesButton.addEventListener('click', () => {
                rulesOverlay.style.display = 'none';
            });

            // O jogo N√ÉO come√ßa mais automaticamente.
            // Ele espera o bot√£o "Iniciar Jogo" ser clicado.
            startGameButton.addEventListener('click', () => {
                startOverlay.classList.add('hidden');
                
                // Mostra a interface do jogo
                topPanels.classList.remove('hidden');
                gameBoard.classList.remove('hidden'); 
                buttonContainer.classList.remove('hidden');
                
                // Come√ßa o jogo
                iniciarJogo();
            });

        }); // Fim do 'DOMContentLoaded'
    </script>
</body>
</html>
